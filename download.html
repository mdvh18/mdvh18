<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêang Chuy·ªÉn H∆∞·ªõng An To√†n... | MDVH18</title>
    <style>
        body { background: #0f0c29; color: white; font-family: 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        .box { text-align: center; background: rgba(255, 255, 255, 0.05); padding: 40px; border-radius: 20px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 0 30px rgba(215, 155, 187, 0.2); max-width: 400px; width: 90%; }
        .loader { border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid #f78f90; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #timer { font-size: 3em; color: #d79bbb; font-weight: bold; margin: 10px 0; }
        .btn-manual { display: none; background: #f78f90; color: white; text-decoration: none; padding: 12px 25px; border-radius: 30px; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-manual:hover { background: #fff; color: #f78f90; box-shadow: 0 0 15px #f78f90; }
        
        /* CSS d√πng chung cho c·∫£ 2 lo·∫°i Toast */
        .toast-custom { position: fixed; bottom: 30px; right: 30px; background: #1a1131; color: #fff; padding: 20px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.6); z-index: 10000; font-family: "Segoe UI", sans-serif; max-width: 320px; animation: slideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes slideIn { from { transform: translateX(120%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        
        /* Hi·ªáu ·ª©ng Hover cho n√∫t b·∫•m trong Toast */
        #pixeldrain-toast a:hover { background: #fff !important; color: #f78f90 !important; }
        #terabox-toast a:hover { background: #fff !important; color: #54b5f5 !important; }
    </style>
</head>
<body>
    <div class="box" id="main-box">
        <div class="loader"></div>
        <h3>H·ªÜ TH·ªêNG ƒêANG KI·ªÇM TRA</h3>
        <p>Vui l√≤ng ch·ªù trong gi√¢y l√°t ƒë·ªÉ l·∫•y li√™n k·∫øt t·∫£i game an to√†n.</p>
        <div id="timer">4</div>
        <a id="manual-link" class="btn-manual" href="#">NH·∫§N V√ÄO ƒê√ÇY N·∫æU KH√îNG T·ª∞ CHUY·ªÇN</a>
    </div>

    <script>
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const encoded = urlParams.get('url');
            const timerEl = document.getElementById('timer');
            const manualBtn = document.getElementById('manual-link');
            const boxEl = document.getElementById('main-box');
            
            let targetUrl = "";

            if (encoded) {
                try {
                    // 1. Gi·∫£i m√£ Base64
                    targetUrl = atob(encoded);

                    // 2. T·ª± ƒë·ªông s·ª≠a l·ªói ƒë∆∞·ªùng d·∫´n c≈© (N·∫øu c√≥)
                    if (targetUrl.includes('mdvh18.github.io/mdvh18/')) {
                        targetUrl = targetUrl.replace('mdvh18.github.io/mdvh18/', 'mdvh18.github.io/');
                    }

                    // 3. M√°y qu√©t d·ªãch v·ª• l∆∞u tr·ªØ
                    if (targetUrl.includes('pixeldrain.com')) {
                        showPixeldrainFAQ();
                    } else if (targetUrl.includes('terabox.com') || targetUrl.includes('teraboxapp.com') || targetUrl.includes('1024tera.com')) {
                        showTeraboxFAQ();
                    }

                    // 4. ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c
                    let timeLeft = 4;
                    const countdown = setInterval(() => {
                        timeLeft--;
                        timerEl.innerText = timeLeft;
                        if (timeLeft <= 0) {
                            clearInterval(countdown);
                            window.location.href = targetUrl;
                            manualBtn.style.display = 'inline-block';
                            manualBtn.href = targetUrl;
                        }
                    }, 1000);

                } catch (e) {
                    boxEl.innerHTML = "<h3>L·ªñI GI·∫¢I M√É</h3><p>D·ªØ li·ªáu link kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng.</p>";
                }
            } else {
                boxEl.innerHTML = "<h3>L·ªñI ƒê∆Ø·ªúNG D·∫™N</h3><p>Kh√¥ng t√¨m th·∫•y li√™n k·∫øt y√™u c·∫ßu.</p>";
            }

            // H√†m hi·ªán th√¥ng b√°o Pixeldrain
            function showPixeldrainFAQ() {
                const toast = document.createElement('div');
                toast.id = 'pixeldrain-toast';
                toast.className = 'toast-custom';
                toast.style.border = '2px solid #f78f90';
                toast.innerHTML = `
                    <div style="display:flex; align-items:center; margin-bottom:12px;">
                        <span style="font-size:24px; margin-right:10px;">üöÄ</span>
                        <strong style="color:#f78f90; font-size:16px;">Ph√°t hi·ªán Pixeldrain!</strong>
                    </div>
                    <p style="font-size:14px; line-height:1.5; margin-bottom:15px; color:#e0e0e0;">Link n√†y c√≥ gi·ªõi h·∫°n 6GB/ng√†y. Bro nh·ªõ xem FAQ ƒë·ªÉ bi·∫øt m·∫πo t·∫£i kh√¥ng gi·ªõi h·∫°n nh√©!</p>
                    <div style="text-align:right;">
                        <a href="https://mdvh18.blogspot.com/p/faq.html" target="_blank" style="background:#f78f90; color:#1a1131; padding:8px 15px; border-radius:20px; text-decoration:none; font-weight:bold; font-size:13px; display:inline-block; transition:0.3s;">XEM FAQ NGAY</a>
                    </div>`;
                document.body.appendChild(toast);
                autoRemove(toast);
            }

            // H√†m hi·ªán th√¥ng b√°o Terabox
            function showTeraboxFAQ() {
                if (document.getElementById('terabox-toast')) return;
                const toast = document.createElement('div');
                toast.id = 'terabox-toast';
                toast.className = 'toast-custom';
                toast.style.border = '2px solid #54b5f5';
                toast.innerHTML = `
                    <div style="display:flex; align-items:center; margin-bottom:12px;">
                        <span style="font-size:24px; margin-right:10px;">‚òÅÔ∏è</span>
                        <strong style="color:#54b5f5; font-size:16px;">Ph√°t hi·ªán Terabox!</strong>
                    </div>
                    <p style="font-size:14px; line-height:1.5; margin-bottom:15px; color:#e0e0e0;">Link Terabox ƒë√¥i khi y√™u c·∫ßu ƒëƒÉng nh·∫≠p ho·∫∑c d√πng App ƒë·ªÉ t·∫£i nhanh h∆°n. Xem FAQ ngay!</p>
                    <div style="text-align:right;">
                        <a href="https://mdvh18.blogspot.com/p/faq.html" target="_blank" style="background:#54b5f5; color:#1a1131; padding:8px 15px; border-radius:20px; text-decoration:none; font-weight:bold; font-size:13px; display:inline-block; transition:0.3s;">XEM FAQ NGAY</a>
                    </div>`;
                document.body.appendChild(toast);
                autoRemove(toast);
            }

            // H√†m t·ª± x√≥a Toast
            function autoRemove(el) {
                setTimeout(() => {
                    el.style.transform = 'translateX(120%)';
                    el.style.transition = '0.8s ease-in';
                    setTimeout(() => el.remove(), 800);
                }, 10000);
            }
        })();
    </script>
</body>
</html>
